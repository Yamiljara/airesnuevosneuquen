---
layout: default
---

<div class="container">
    <h1 class="section-title">
        {% if page.category %}
            {{ page.category | capitalize }}
        {% else %}
            Últimas Noticias
        {% endif %}
    </h1>

    <div class="news-and-ads-grid">
        {% assign posts_in_category = site.posts | where: "categories", page.category %}
        {% assign sorted_posts = posts_in_category | sort: "date" | reverse %}

        {% for post in paginator.posts %}
            <div class="news-item">
                <a href="{{ post.url | relative_url }}" class="news-item-image">
                    {% if post.image %}
                        <img src="{{ post.image | relative_url }}" alt="{{ post.title }}">
                    {% else %}
                        <div class="no-image-placeholder">No Image Available</div>
                    {% endif %}
                    <span class="news-item-category">{{ post.categories | first | capitalize }}</span>
                </a>
                <div class="news-item-content">
                    <div>
                        <h2 class="news-item-title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
                        <p class="news-item-excerpt">{{ post.excerpt | strip_html | truncatewords: 25 }}</p>
                    </div>
                    <p class="news-item-date">{{ post.date | date: "%d %b %Y" }}</p>
                </div>
            </div>

            {% comment %} Inserta publicidad después de cada 2 posts {% endcomment %}
            {% assign loop_index = forloop.index | modulo: 2 %}
            {% if loop_index == 0 and forloop.last != true %}
                <div class="advertising-block-small-intercalated">
                    <p><span class="typewriter-text">PUBLICIDAD</span></p>
                </div>
            {% endif %}
        {% endfor %}
    </div>

    {% include pagination.html %}

</div>